# ===========================================
# Docker Compose Override for Development
# ===========================================
# Copy this file to docker-compose.override.yml for local development

version: '3.8'

services:
  coolify-mcp-server:
    # Override for development
    build:
      target: builder  # Use builder stage for development
    environment:
      - NODE_ENV=development
      - LOG_LEVEL=debug
    ports:
      - "3000:3000"
      - "9229:9229"  # Node.js debug port
    volumes:
      - ./src:/app/src:ro  # Mount source for hot reload
      - ./logs:/app/logs:rw
    command: ["npm", "run", "dev"]
    stdin_open: true
    tty: true
    
    # Remove production security restrictions for development
    read_only: false
    security_opt: []
    user: "root"
    
    # Development-specific labels
    labels:
      - "traefik.enable=false"  # Disable Traefik in development
      - "development=true"
      - "debug.enabled=true"
